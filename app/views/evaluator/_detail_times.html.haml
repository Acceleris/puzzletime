- spacer ||= nil
%table.striped
  %thead
    %tr
      - @evaluation.detail_columns.each do |field|
        %th= @evaluation.detail_labels[field]
      %th
  %tbody
    = render :partial => 'detailrow', :collection => @times, :locals => {:spacer => spacer}
  %tfoot
    %tr.times_total_sum
      %td Total insgesamt
      %td{:align => "right"}= format_hour @evaluation.sum_times(@period)
      %td{:colspan => @evaluation.detail_columns.size - 2}
      - if @evaluation.for?(@user)
        %td{:colspan => "2"}= add_time_link(@evaluation.division)
      - else
        %td
    %tr.times_total_sum
      %td Total verrechenbar
      %td{:align => "right"}= format_hour @evaluation.sum_times(@period, nil, :conditions => ['worktimes.billable'])
      %td{:colspan => @evaluation.detail_columns.size - 2}
      %td

%p= paginate @times
